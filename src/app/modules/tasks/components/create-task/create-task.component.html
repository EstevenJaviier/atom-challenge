<h2 mat-dialog-title class="text-2xl font-semibold text-blue-600">
  {{ taskForm.get("id")!.value ? "Editar tarea" : "Crear tarea" }}
</h2>
<form [formGroup]="taskForm" (ngSubmit)="onSubmit()">
  <mat-dialog-content class="space-y-4 pt-4">
    <mat-form-field class="w-full">
      <mat-label>Título</mat-label>
      <input
        matInput
        formControlName="title"
        placeholder="Ej: Pagar facturas"
      />
      @if (taskForm.get('title')?.hasError('required') &&
      taskForm.get('title')?.touched) {
      <mat-error>El título es obligatorio.</mat-error>
      }
    </mat-form-field>

    <mat-form-field class="w-full">
      <mat-label>Descripción</mat-label>
      <textarea
        matInput
        formControlName="description"
        placeholder="Detalles de la tarea..."
        rows="4"
        maxlength="250"
      ></textarea>
    </mat-form-field>
  </mat-dialog-content>

  <mat-dialog-actions align="end" class="pt-4">
    <button mat-button (click)="dialogRef.close()" type="button">
      Cancelar
    </button>
    <button
      mat-flat-button
      color="primary"
      type="submit"
      [disabled]="taskForm.invalid"
    >
      {{
        isLoading()
          ? "Cargando..."
          : taskForm.get("id")!.value
          ? "Editar tarea"
          : "Guardar tarea"
      }}
    </button>
  </mat-dialog-actions>
</form>
